apiVersion: v1
kind: Namespace
metadata:
  name: lms
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: lms-shared-config
  namespace: lms
data:
  SPRING_PROFILES_ACTIVE: "prod"
  SPRINGDOC_ENABLED: "false"
  CORS_ALLOWED_ORIGINS: "https://app.lms-example.com"
  SPRING_HEALTH_KAFKA_ENABLED: "false"
  LOGGING_LEVEL_ROOT: "INFO"
  LOGGING_LEVEL_ORG_SPRINGFRAMEWORK: "INFO"
  LOGGING_LEVEL_COM_LMS: "DEBUG"
  MANAGEMENT_HEALTH_KAFKA_ENABLED: "false"
  MANAGEMENT_HEALTH_ELASTICSEARCH_ENABLED: "false"
  SPRING_KAFKA_BOOTSTRAP_SERVERS: "lms-kafka:9092"
  SPRING_REDIS_HOST: "lms-redis"
  SPRING_DATA_REDIS_HOST: "lms-redis"
  JAVA_TOOL_OPTIONS: "-Xms128m -Xmx256m -XX:MaxMetaspaceSize=128m -XX:ReservedCodeCacheSize=64m -Xss512k -Djava.security.egd=file:/dev/./urandom"
  SPRING_ELASTICSEARCH_URIS: "http://lms-elasticsearch:9200"
  KAFKA_BOOTSTRAP_SERVERS: "lms-kafka:9092"
  REDIS_HOST: "lms-redis"
  REDIS_PORT: "6379"
  POSTGRES_HOST: "lms-postgres"
  POSTGRES_PORT: "5432"
  AUTH_SERVICE_URL: "http://lms-auth-service:8082"
  USER_SERVICE_URL: "http://lms-user-service:8081"
  COURSE_SERVICE_URL: "http://lms-course-service:8083"
  ENROLLMENT_SERVICE_URL: "http://lms-enrollment-service:8084"
  CONTENT_SERVICE_URL: "http://lms-content-service:8085"
  SEARCH_SERVICE_URL: "http://lms-search-service:8086"
  NOTIFICATION_SERVICE_URL: "http://lms-notification-service:8088"
  ASSIGNMENT_SERVICE_URL: "http://lms-assignment-service:8087"
  PAYMENT_SERVICE_URL: "http://lms-payment-service:8089"
  ANALYTICS_SERVICE_URL: "http://lms-analytics-service:8090"
---
apiVersion: v1
kind: Secret
metadata:
  name: lms-secrets
  namespace: lms
type: Opaque
stringData:
  # Example placeholders - populate via Secret Manager or sealed secrets
  POSTGRES_USER: "__REPLACE__"
  POSTGRES_PASSWORD: "__REPLACE__"
  JWT_SECRET: "__REPLACE__"
  MAIL_USERNAME: "__REPLACE__"
  MAIL_PASSWORD: "__REPLACE__"
